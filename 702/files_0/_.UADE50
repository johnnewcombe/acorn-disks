 : :      Sideways bodge :      copies out of Rom into Ram :  : :    EXTERNAL ADDRESSES : :DESTAD * $3000  START OF CODE TO EXECUTE :TELCOD * $8200 :TELCOL * $0A  LENGTH OF TELE CODE :TUNCOD * $8C00  START OF TUNE CODE :TUNCOL * $04  LENGTH OF TUNE CODE : : :    ZERO PAGE ALLOCS : : : :DEST * $0070 :SOURCE * $0072 : : : : ORG $8000   SWAYS ROM : JMP COMPRO  LANGUAGE JUMP : JMP COMPRO : = $82   SERVICE ROM : = COPYR / : = $00   VERSION : = 'T' : = 'T' : = 'X : = 'T : = $00 : = '1 : = '. : = '0 : = '0 :COPYR = $00 : = '( : = 'C : = ') : = 'A : = 'c : = 'o : = 'r : = 'n : = $00 : : : :COMPRO CMPIM $04  CHECK FOR ENTRY CODE : BEQ CHECK : RTS : :CHECK TXA  SAVE REGS : PHA  WE ALREADY KNOW A WAS $04 : TYA : PHA   SAVE OFFSET POINTER : LDXIM TELCML   LENGTH OF COMMAND :TELCOM LDAIY $00F2 : CMPAX TELCMS -01   COMMAND STRING (BACKWARDS) : BNE NOTTEL : INY   NEXT LETTER : DEX : BNE TELCOM : :   THIS IS IT !! :ISTEL LDAIM TELCOD : STA SOURCE : LDAIM TELCOD / : STA SOURCE +01 : LDXIM TELCOL +01  NUMBER OF PAGES TO COPY : JMP COPY :  :NOTTEL CMPIM '.   Mismatch, but could be abbreviation : BEQ ISTEL  It is. : PLA   NOT TELETEXT SO GET OFFSET BACK : PHA : TAY : LDXIM TUNCML :TUNCOM LDAIY $00F2 : CMPAX TUNCMS -01    THIS WORKS LIKE THE OTHER ONE : BNE NOTTUN : INY : DEX : BNE TUNCOM : :   FOUND TUNING :ISTUN LDAIM TUNCODE : STA SOURCE : LDAIM TUNCODE / : STA SOURCE +01 : LDXIM TUNCOL +01  LENGTH OF CODE (PAGES) : JMP COPY : :NOTTUN CMPIM '.   Abbreviation : BEQ ISTUN :FAIL PLA  Y : TAY : PLA  X : TAX : LDAIM $04 :RET RTS  NOT OURS! : :COPY LDAIM DESTAD  COPY DESTINATION : STA DEST : LDAIM DESTAD / : STA DEST +01 :   X HAS NO. OF PAGES : LDYIM $00  LENGTH OF 1 PAGE :CLOOP LDAIY SOURCE : STAIY DEST : DEY : BNE CLOOP : INC DEST +01 : INC SOURCE +01 : DEX  PAGE COUNT : BNE CLOOP :   FINISHED COPY (INTEGER PAGES ONLY) : JSR DESTAD  XECUTE IT : PLA  RESTORE REGS : TAY : PLA : TAX : LDAIM $00 INDICATE WE HAVE USED COMMAND : RTS  BACK TO MOS : : : :TELCML * $08 :TELCMS = 'T : = 'X : = 'E : = 'T : = 'E : = 'L : = 'E : = 'T : :TUNCML * $04 :TUNCMS = 'E : = 'N : = 'U : = 'T : :