.x||y|\ prop|u|cProject Proposal for the two-year Computer Science Tripos|c20th October 1984|c|uName of candidate|c|bA.R. GORDON|c|uProject Title|c"To enhance the performance and|c capabilities of a file server"|c|uOriginator of Project|cThe candidate|c|uProject supervisor|cDr. M. Richards|d|w|uNature of project|bBackgroundThis project is an extension of earlier work by the candidate to produce a file server operating on the Econet local area network.  The Econet system is designed by Acorn Computers Ltd. to provide a cheap networking system for their BBC microcomputer.  The primary function of Econet is to provide access to shared filestore and printer resources from workstation computers, although other conventional services such as terminal concentrators and mail can be supported.  The interface between client computers and the file server has been defined and published by Acorn; support for various non-Acorn workstation computers has been provided by third parties.The Acorn file server provides a filing system with a hierarchical directory structure and simple access controls.  It runs on an expanded BBC microcomputer, and uses floppy discs for storage.  The original project was to provide a file server compatible with the Acorn system, but running on other hardware, in particular machines based on the Z80 microprocessor.  In addition, it was desired to support discs of larger capacity, to improve the access controls, and to introduce an accounting system.  A completely new piece of software was written, primarily using the Pascal language.  The internal directory structure was changed completely to support larger discs, but the user's view of the filing system was kept compatible.  Many detail improvements were made over the Acorn specification, but the overall aim was one of compatibility.This software is now substantially complete, and is in use at a number of sites.  The modularity of the program is such that it is possible to use it on a variety of different hardware configurations by use of different device drivers.  This led to the design of a machine specially adapted to support the file server.  The purpose of the present project is to modify and expand the existing software to take advantage of the special features of the new hardware.|bProposed workThe existing software has a single task : the main loop polls for reception of a client request from the network and then services it to completion, waiting for disc access if required.  The new hardware has a second processor controlling the peripherals and a block of cache memory, so it is now possible to initiate a peripheral transfer and deal with further client requests while waiting for the response.  To implement this, it will be necessary to modify the run-time system to set up a form of coroutine environment, and to allow multi-threaded use of the main code.  In addition, interlocks must be designed such that updates to the directory structure are performed in an atomic manner, but without unnecessary delay to other processes.Once there is a multi-process environment, it will be possible to manage a job queue for background jobs.  The first type of such jobs will be printer spooling.  Data to be printed will be received either in packets, using the standard printer server protocol, or by filing system command to print a whole file.  There will be questions of access controls, scheduling, and user management of the queue to examine progress and kill jobs.Further work will centre on support for magnetic tape.  The ability to schedule system dumps to occur at dead of night is fairly straightforward within the job management system already described.  Selective restoration of individual files from system dumps will require further work.  A future aim is to provide an archive system similar to that on the Computing Service IBM system, but it is not anticipated that there will be sufficient time to implement this within the project timescale.|uResources requiredCoding, compilation and initial testing of the project software can be carried out on the candidate's own personal computer equipment.  The target hardware is to be provided by a local company, and their resources are available for more comprehensive testing on a network with a substantial number of client computers.  A letter from the company is attached, confirming their support for the project.|uPlan of workThe project falls into three parts : the expansion to multi-tasking, the establishment of a job queue and printer spooling, and tape support.  It is anticipated that the first part should be complete by the end of the Michaelmas term, that the second should be completed near the division of the Lent term, and that the remaining time will be spent on developing the tape support software, the extent of which will depend upon the progress of the rest of the work.